services:
  - name: web
    plan: starter
    buildCommand: |
      pip install -r requirements.txt
      python manage.py collectstatic --noinput
      python manage.py migrate --noinput
    startCommand: gunicorn config.wsgi:application --bind 0.0.0.0:$PORT
    envVars:
      DEBUG: false
      SECRET_KEY: ${{Render.randomString(50)}}
      ALLOWED_HOSTS: .railway.app
      DATABASE_URL: ${{DATABASE_URL}}
      
databases:
  - name: postgres
    plan: starter

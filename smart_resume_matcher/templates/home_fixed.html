{% extends 'base_modern.html' %}

{% block title %}Smart Resume Matcher - AI-Powered Career Success{% endblock %}

{% block extra_css %}
<style>
/* Modern home page styles */
.hero-section {
    background: linear-gradient(135deg, #1F1C2C 0%, #928DAB 100%);
    min-height: 100vh;
    display: flex;
    align-items: center;
    position: relative;
    overflow: hidden;
}

.floating-elements {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
}

.floating-element {
    position: absolute;
    color: rgba(255, 255, 255, 0.1);
    animation: float 6s ease-in-out infinite;
}

.floating-element:nth-child(1) {
    top: 10%;
    left: 10%;
    animation-delay: 0s;
}

.floating-element:nth-child(2) {
    top: 20%;
    right: 15%;
    animation-delay: 2s;
}

.floating-element:nth-child(3) {
    bottom: 30%;
    left: 15%;
    animation-delay: 4s;
}

.floating-element:nth-child(4) {
    bottom: 20%;
    right: 10%;
    animation-delay: 1s;
}

.floating-element:nth-child(5) {
    top: 50%;
    left: 5%;
    animation-delay: 3s;
}

.floating-element:nth-child(6) {
    top: 60%;
    right: 5%;
    animation-delay: 5s;
}

@keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(180deg); }
}

.hero-content {
    text-align: center;
    color: white;
    z-index: 2;
    position: relative;
}

.hero-title {
    font-size: 4rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.hero-subtitle {
    font-size: 1.5rem;
    margin-bottom: 2rem;
    opacity: 0.9;
}

.hero-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.btn-hero-primary, .btn-hero-secondary {
    padding: 1rem 2rem;
    border-radius: 50px;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    font-size: 1.1rem;
}

.btn-hero-primary {
    background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
    color: white;
    border: none;
}

.btn-hero-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    color: white;
}

.btn-hero-secondary {
    background: transparent;
    color: white;
    border: 2px solid white;
}

.btn-hero-secondary:hover {
    background: white;
    color: #1F1C2C;
    transform: translateY(-2px);
}

/* Dashboard Section */
.dashboard-section {
    padding: 4rem 0;
    background: #f8f9fa;
}

.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
}

.dashboard-card {
    background: white;
    border-radius: 15px;
    padding: 2rem;
    text-align: center;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
}

.dashboard-card:hover {
    transform: translateY(-5px);
}

.dashboard-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
    color: #928DAB;
}

.dashboard-number {
    font-size: 2.5rem;
    font-weight: 700;
    color: #1F1C2C;
    margin-bottom: 0.5rem;
}

.dashboard-label {
    color: #666;
    font-size: 1.1rem;
}

/* Features Section */
.features-section {
    padding: 4rem 0;
    background: white;
}

.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
}

.feature-card {
    background: #f8f9fa;
    border-radius: 15px;
    padding: 2rem;
    text-align: center;
    transition: transform 0.3s ease;
}

.feature-card:hover {
    transform: translateY(-5px);
}

.feature-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
    color: #928DAB;
}

.feature-card h3 {
    color: #1F1C2C;
    margin-bottom: 1rem;
}

.feature-card p {
    color: #666;
    line-height: 1.6;
}

.feature-stats {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid #dee2e6;
}

.stat {
    background: #928DAB;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.9rem;
    font-weight: 600;
}

/* Success Stories Section */
.success-section {
    padding: 4rem 0;
    background: #f8f9fa;
}

.success-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
}

.success-card {
    background: white;
    border-radius: 15px;
    padding: 2rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.success-content p {
    font-style: italic;
    color: #666;
    margin-bottom: 1rem;
    line-height: 1.6;
}

.success-author {
    padding-top: 1rem;
    border-top: 1px solid #dee2e6;
}

.success-author strong {
    color: #1F1C2C;
    display: block;
}

.success-author span {
    color: #928DAB;
    font-size: 0.9rem;
}

/* CTA Section */
.cta-section {
    padding: 4rem 0;
    background: linear-gradient(135deg, #1F1C2C 0%, #928DAB 100%);
    color: white;
    text-align: center;
}

.cta-title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
}

.cta-subtitle {
    font-size: 1.2rem;
    margin-bottom: 2rem;
    opacity: 0.9;
}

/* Section Headers */
.section-header {
    text-align: center;
    margin-bottom: 3rem;
}

.section-header h2 {
    font-size: 2.5rem;
    font-weight: 700;
    color: #1F1C2C;
    margin-bottom: 1rem;
}

.section-header p {
    font-size: 1.2rem;
    color: #666;
}

/* Job Matches Section */
.job-card {
    background: white;
    border-radius: 10px;
    padding: 1.5rem;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    margin-bottom: 1rem;
}

.job-card h5 {
    color: #1F1C2C;
    margin-bottom: 0.5rem;
}

.job-card .text-muted {
    color: #666 !important;
}

.loading-state {
    text-align: center;
    padding: 3rem;
    color: #666;
}

.spinner-border {
    width: 3rem;
    height: 3rem;
}

/* Tips Section */
.tips-card {
    background: white;
    border-radius: 15px;
    padding: 2rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    margin-top: 2rem;
}

.tips-header {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
}

.tips-header i {
    color: #928DAB;
    margin-right: 1rem;
    font-size: 1.5rem;
}

.tips-header h3 {
    color: #1F1C2C;
    margin: 0;
}

.tips-content p {
    color: #666;
    line-height: 1.6;
    margin: 0;
}

/* Animation classes */
.fade-in {
    animation: fadeIn 0.5s ease-in-out;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Responsive Design */
@media (max-width: 768px) {
    .hero-title {
        font-size: 2.5rem;
    }
    
    .hero-subtitle {
        font-size: 1.2rem;
    }
    
    .hero-actions {
        flex-direction: column;
        align-items: center;
    }
    
    .btn-hero-primary, .btn-hero-secondary {
        width: 100%;
        max-width: 300px;
    }
    
    .dashboard-grid, .features-grid, .success-grid {
        grid-template-columns: 1fr;
    }
    
    .section-header h2 {
        font-size: 2rem;
    }
}
</style>
{% endblock %}

{% block content %}
<!-- Modern Hero Section -->
<div class="hero-section">
    <!-- Floating Background Elements -->
    <div class="floating-elements">
        <div class="floating-element">
            <i class="fas fa-briefcase" style="font-size: 3rem;"></i>
        </div>
        <div class="floating-element">
            <i class="fas fa-chart-line" style="font-size: 2.5rem;"></i>
        </div>
        <div class="floating-element">
            <i class="fas fa-users" style="font-size: 2rem;"></i>
        </div>
        <div class="floating-element">
            <i class="fas fa-rocket" style="font-size: 2.5rem;"></i>
        </div>
        <div class="floating-element">
            <i class="fas fa-star" style="font-size: 1.5rem;"></i>
        </div>
        <div class="floating-element">
            <i class="fas fa-trophy" style="font-size: 2rem;"></i>
        </div>
    </div>
    
    <div class="container">
        <div class="hero-content">
            <h1 class="hero-title">
                Find Your <span class="text-warning">Dream Job</span><br>
                with AI-Powered Matching
            </h1>
            <p class="hero-subtitle">
                Transform your career with intelligent resume analysis and personalized job recommendations that actually work.
            </p>
            <div class="hero-actions">
                <a href="{% url 'register' %}" class="btn-hero-primary">
                    <i class="fas fa-rocket me-2"></i> Get Started Free
                </a>
                <a href="#features" class="btn-hero-secondary">
                    <i class="fas fa-play me-2"></i> Learn More
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Dashboard Section (For Authenticated Users) -->
<div id="jwt-authenticated-content" class="dashboard-section" style="display: none;">
    <div class="container">
        <div class="section-header">
            <h2>Your Career Dashboard</h2>
            <p>Track your progress and discover new opportunities</p>
        </div>
        
        <div class="dashboard-grid">
            <div class="dashboard-card">
                <div class="dashboard-icon">
                    <i class="fas fa-search"></i>
                </div>
                <div class="dashboard-number" id="match-count">0</div>
                <div class="dashboard-label">Active Job Matches</div>
            </div>
            
            <div class="dashboard-card">
                <div class="dashboard-icon">
                    <i class="fas fa-user-circle"></i>
                </div>
                <div class="dashboard-number" id="profile-score">0%</div>
                <div class="dashboard-label">Profile Completeness</div>
            </div>
            
            <div class="dashboard-card">
                <div class="dashboard-icon">
                    <i class="fas fa-eye"></i>
                </div>
                <div class="dashboard-number">127</div>
                <div class="dashboard-label">Profile Views</div>
            </div>
            
            <div class="dashboard-card">
                <div class="dashboard-icon">
                    <i class="fas fa-handshake"></i>
                </div>
                <div class="dashboard-number">8</div>
                <div class="dashboard-label">Interview Requests</div>
            </div>
        </div>
        
        <!-- Resume Status -->
        <div id="jwt-has-resume-content" style="display: none;">
            <div class="row mt-4">
                <div class="col-md-6">
                    <div class="dashboard-card">
                        <h4><i class="fas fa-file-alt me-2"></i>Resume Status</h4>
                        <p class="text-success">✅ Resume uploaded and analyzed</p>
                        <div class="d-flex gap-2">
                            <a href="/resumes/upload/" class="btn btn-outline-primary btn-sm">
                                <i class="fas fa-upload me-1"></i> Update Resume
                            </a>
                            <a href="/jobs/ai-matches/" class="btn btn-primary btn-sm">
                                <i class="fas fa-magic me-1"></i> Find Jobs
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="dashboard-card">
                        <h4><i class="fas fa-chart-bar me-2"></i>Skills Analysis</h4>
                        <p>Your resume has been analyzed and optimized</p>
                        <div class="progress mt-2">
                            <div class="progress-bar bg-success" style="width: 85%"></div>
                        </div>
                        <small class="text-muted">85% optimization score</small>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="jwt-no-resume-content" style="display: none;">
            <div class="row mt-4">
                <div class="col-md-12">
                    <div class="dashboard-card text-center">
                        <div class="dashboard-icon">
                            <i class="fas fa-upload"></i>
                        </div>
                        <h4>Upload Your Resume</h4>
                        <p>Get started by uploading your resume for AI analysis and personalized job matching</p>
                        <a href="/resumes/upload/" class="btn btn-primary btn-lg">
                            <i class="fas fa-cloud-upload-alt me-2"></i> Upload Resume
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Features Section (For All Users) -->
<div id="features" class="features-section">
    <div class="container">
        <div class="section-header">
            <h2>Why Choose Smart Resume Matcher?</h2>
            <p>Advanced AI technology meets human expertise</p>
        </div>
        
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <h3>AI-Powered Analysis</h3>
                <p>Our advanced machine learning algorithms analyze your resume and match you with the most relevant opportunities in real-time</p>
                <div class="feature-stats">
                    <span class="stat">95% Match Accuracy</span>
                </div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-globe-americas"></i>
                </div>
                <h3>All Industries Covered</h3>
                <p>From healthcare to technology, finance to education - find opportunities across every industry and profession</p>
                <div class="feature-stats">
                    <span class="stat">200+ Industries</span>
                </div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h3>Career Analytics</h3>
                <p>Get detailed insights into your career progression, skill gaps, and market trends to make informed decisions</p>
                <div class="feature-stats">
                    <span class="stat">Real-time Insights</span>
                </div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h3>Privacy First</h3>
                <p>Your data is secure and private. We never share your information without your explicit consent</p>
                <div class="feature-stats">
                    <span class="stat">100% Secure</span>
                </div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-clock"></i>
                </div>
                <h3>Real-time Updates</h3>
                <p>Get instant notifications about new job matches and industry trends that matter to your career</p>
                <div class="feature-stats">
                    <span class="stat">Instant Alerts</span>
                </div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-users"></i>
                </div>
                <h3>Expert Support</h3>
                <p>Access career coaching, resume optimization tips, and interview preparation from industry experts</p>
                <div class="feature-stats">
                    <span class="stat">24/7 Support</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Success Stories Section -->
<div class="success-section" id="jwt-no-auth-content-extra">
    <div class="container">
        <div class="section-header">
            <h2>Success Stories</h2>
            <p>Real professionals, real results</p>
        </div>
        
        <div class="success-grid">
            <div class="success-card">
                <div class="success-content">
                    <p>"Smart Resume Matcher helped me transition from finance to tech. The AI found opportunities I never would have considered, and I landed my dream job as a data analyst!"</p>
                    <div class="success-author">
                        <strong>Sarah Chen</strong>
                        <span>Data Analyst at TechCorp</span>
                    </div>
                </div>
            </div>
            
            <div class="success-card">
                <div class="success-content">
                    <p>"The platform's career insights helped me identify skill gaps and improve my profile. Within 3 weeks, I had multiple interviews and accepted a senior position."</p>
                    <div class="success-author">
                        <strong>Michael Rodriguez</strong>
                        <span>Senior Marketing Manager</span>
                    </div>
                </div>
            </div>
            
            <div class="success-card">
                <div class="success-content">
                    <p>"As a healthcare professional, I was amazed by how accurately the AI matched my specialized skills with the right opportunities. Highly recommended!"</p>
                    <div class="success-author">
                        <strong>Dr. Emily Johnson</strong>
                        <span>Clinical Research Coordinator</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Job Matches Section for Authenticated Users -->
<div id="jwt-job-matches-section" style="display: none;">
    <div class="container">
        <div class="section-header">
            <h2>Your Latest Job Matches</h2>
            <p>Opportunities tailored specifically for you</p>
        </div>
        
        <div id="jwt-job-matches-container">
            <div class="loading-state">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <p class="mt-3">Finding your perfect matches...</p>
            </div>
        </div>
        
        <div class="text-center mt-4">
            <a href="{% url 'ai_job_matches' %}" class="btn btn-outline-primary">
                <i class="fas fa-search me-2"></i> View All Matches
            </a>
        </div>
    </div>
</div>

<!-- AI Tips Section for Authenticated Users -->
<div id="jwt-tips-section" style="display: none;">
    <div class="container">
        <div class="tips-card">
            <div class="tips-header">
                <i class="fas fa-lightbulb"></i>
                <h3>AI Career Insights</h3>
            </div>
            <div class="tips-content">
                <p id="jwt-career-tip">{{ ai_tip|default:"Keep your resume updated and highlight your unique skills to attract better opportunities." }}</p>
            </div>
        </div>
    </div>
</div>

<!-- CTA Section -->
<div class="cta-section" id="jwt-no-auth-content">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8 text-center">
                <h2 class="cta-title">Ready to Transform Your Career?</h2>
                <p class="cta-subtitle">Join thousands of professionals who've already discovered their dream jobs through our AI-powered platform.</p>
                <div class="hero-actions">
                    <a href="{% url 'register' %}" class="btn-hero-primary">
                        <i class="fas fa-rocket me-2"></i> Get Started Now
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Enhanced JWT-aware home page functionality
document.addEventListener('DOMContentLoaded', function() {
    console.log('🏠 Initializing modern home page...');
    
    // Check JWT authentication status
    const token = localStorage.getItem('access_token') || 
                 localStorage.getItem('accessToken') || 
                 document.cookie.split('; ').find(row => row.startsWith('access_token='))?.split('=')[1];
    
    if (token) {
        console.log('✅ JWT token found, user appears to be authenticated');
        
        // Verify token validity
        fetch('/api/auth/verify/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${token}`
            }
        })
        .then(response => response.json())
        .then(data => {
            if (data.valid) {
                console.log('✅ JWT token is valid:', data.user);
                updateUIForAuthenticatedUser(data.user);
            } else {
                console.log('❌ JWT token is invalid, showing guest content');
                updateUIForGuestUser();
            }
        })
        .catch(error => {
            console.error('❌ Error verifying JWT token:', error);
            updateUIForGuestUser();
        });
    } else {
        console.log('❌ No JWT token found, showing guest content');
        updateUIForGuestUser();
    }
    
    // Initialize interactive elements
    initializeInteractiveElements();
});

function updateUIForAuthenticatedUser(userData) {
    console.log('🔐 Updating UI for authenticated user:', userData.email);
    
    // Update hero section
    const heroSection = document.querySelector('.hero-section');
    if (heroSection) {
        const heroTitle = heroSection.querySelector('.hero-title');
        const heroSubtitle = heroSection.querySelector('.hero-subtitle');
        
        if (heroTitle) {
            heroTitle.innerHTML = `Welcome back, <span class="text-warning">${userData.first_name || userData.username}</span>!<br>Ready to find your next opportunity?`;
        }
        
        if (heroSubtitle) {
            heroSubtitle.textContent = 'Your AI-powered career assistant is ready to help you find the perfect opportunities.';
        }
        
        // Update CTA buttons
        const ctaButtons = heroSection.querySelectorAll('.btn-hero-primary');
        ctaButtons.forEach(btn => {
            if (btn.textContent.includes('Get Started')) {
                btn.textContent = 'View Job Matches';
                btn.href = '/jobs/ai-matches/';
                btn.innerHTML = '<i class="fas fa-search me-2"></i> View Job Matches';
            }
        });
        
        const secondaryButtons = heroSection.querySelectorAll('.btn-hero-secondary');
        secondaryButtons.forEach(btn => {
            if (btn.textContent.includes('Learn More')) {
                btn.textContent = 'Upload Resume';
                btn.href = '/resumes/upload/';
                btn.innerHTML = '<i class="fas fa-upload me-2"></i> Upload Resume';
            }
        });
    }
    
    // Show authenticated content sections
    const authContent = document.getElementById('jwt-authenticated-content');
    const noAuthContent = document.getElementById('jwt-no-auth-content');
    const noAuthContentExtra = document.getElementById('jwt-no-auth-content-extra');
    const jobMatchesSection = document.getElementById('jwt-job-matches-section');
    const tipsSection = document.getElementById('jwt-tips-section');
    
    if (authContent) authContent.style.display = 'block';
    if (noAuthContent) noAuthContent.style.display = 'none';
    if (noAuthContentExtra) noAuthContentExtra.style.display = 'none';
    if (jobMatchesSection) jobMatchesSection.style.display = 'block';
    if (tipsSection) tipsSection.style.display = 'block';
    
    // Check if user has resume
    const hasResume = userData.latest_resume && userData.latest_resume.id;
    const hasResumeContent = document.getElementById('jwt-has-resume-content');
    const noResumeContent = document.getElementById('jwt-no-resume-content');
    
    if (hasResume) {
        if (hasResumeContent) hasResumeContent.style.display = 'block';
        if (noResumeContent) noResumeContent.style.display = 'none';
    } else {
        if (hasResumeContent) hasResumeContent.style.display = 'none';
        if (noResumeContent) noResumeContent.style.display = 'block';
    }
    
    // Load user dashboard data
    loadUserDashboard(userData);
}

function updateUIForGuestUser() {
    console.log('👤 Updating UI for guest user');
    
    // Show guest content sections
    const authContent = document.getElementById('jwt-authenticated-content');
    const noAuthContent = document.getElementById('jwt-no-auth-content');
    const noAuthContentExtra = document.getElementById('jwt-no-auth-content-extra');
    const jobMatchesSection = document.getElementById('jwt-job-matches-section');
    const tipsSection = document.getElementById('jwt-tips-section');
    
    if (authContent) authContent.style.display = 'none';
    if (noAuthContent) noAuthContent.style.display = 'block';
    if (noAuthContentExtra) noAuthContentExtra.style.display = 'block';
    if (jobMatchesSection) jobMatchesSection.style.display = 'none';
    if (tipsSection) tipsSection.style.display = 'none';
}

function loadUserDashboard(userData) {
    console.log('📊 Loading user dashboard data...');
    
    // Animate stats
    const matchCountElement = document.getElementById('match-count');
    const profileScoreElement = document.getElementById('profile-score');
    
    if (matchCountElement) {
        animateNumber(matchCountElement, 0, 12, 1000);
    }
    
    if (profileScoreElement) {
        let score = 20; // Base score
        if (userData.latest_resume) score += 40;
        if (userData.profile && userData.profile.full_name) score += 20;
        if (userData.email) score += 10;
        if (userData.profile && userData.profile.phone) score += 10;
        
        animateNumber(profileScoreElement, 0, score, 1500, '%');
    }
    
    // Load job matches
    loadJobMatches();
}

function animateNumber(element, start, end, duration, suffix = '') {
    const startTime = performance.now();
    
    function update(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        
        // Easing function for smooth animation
        const easeOutQuart = 1 - Math.pow(1 - progress, 4);
        const current = Math.floor(start + (end - start) * easeOutQuart);
        
        element.textContent = current + suffix;
        
        if (progress < 1) {
            requestAnimationFrame(update);
        }
    }
    
    requestAnimationFrame(update);
}

async function loadJobMatches() {
    const jobMatchesContainer = document.getElementById('jwt-job-matches-container');
    if (!jobMatchesContainer) return;
    
    try {
        // Simulate API call - you can implement actual API call here
        setTimeout(() => {
            jobMatchesContainer.innerHTML = `
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <div class="job-card">
                            <h5>Senior Software Engineer</h5>
                            <p class="text-muted">TechCorp Inc.</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="badge bg-success">95% Match</span>
                                <small class="text-muted">2 days ago</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="job-card">
                            <h5>Data Analyst</h5>
                            <p class="text-muted">DataFlow Solutions</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="badge bg-primary">92% Match</span>
                                <small class="text-muted">1 week ago</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="job-card">
                            <h5>Product Manager</h5>
                            <p class="text-muted">Innovation Labs</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="badge bg-info">89% Match</span>
                                <small class="text-muted">3 days ago</small>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }, 1500);
    } catch (error) {
        console.error('Error loading job matches:', error);
        jobMatchesContainer.innerHTML = `
            <div class="job-card text-center">
                <p class="text-danger">Failed to load job matches</p>
                <a href="/jobs/" class="btn btn-outline-primary">Browse Jobs</a>
            </div>
        `;
    }
}

function initializeInteractiveElements() {
    // Add smooth scrolling for internal links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth'
                });
            }
        });
    });
    
    // Add hover effects for feature cards
    const featureCards = document.querySelectorAll('.feature-card');
    featureCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    });
    
    // Add subtle animations to dashboard cards
    const dashboardCards = document.querySelectorAll('.dashboard-card');
    dashboardCards.forEach((card, index) => {
        card.style.animationDelay = `${index * 0.1}s`;
        card.classList.add('fade-in');
    });
}

console.log('🎨 Modern home page initialized successfully!');
</script>
{% endblock %}
